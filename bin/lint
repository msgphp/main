#!/usr/bin/env bash

RETURN=0

# lint PHP files
for FILE in $(find . -type f -name *.php -not -path "*/vendor/*"); do
    RESULT=$(php -l "$FILE")
    LAST=$? ; [[ $LAST -ne 0 ]] && RETURN=${LAST}

    if [[ ! $RESULT == "No syntax errors detected in "* ]]; then
        echo $RESULT
    fi
done

exit $RETURN

