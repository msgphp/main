<?xml version="1.0"?>
<psalm xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="https://getpsalm.org/schema/config"
       xsi:schemaLocation="https://getpsalm.org/schema/config https://raw.githubusercontent.com/vimeo/psalm/master/config.xsd"
       cacheDirectory="var/psalm"
       autoloader="var/phpunit/phpunit-7.5/vendor/autoload.php"
       allowPhpStormGenerics="true"
       totallyTyped="false">
    <projectFiles>
        <directory name="src" />
        <directory name="tests/fixtures/sa" />
        <ignoreFiles>
            <directory name="src/*/vendor" />
            <directory name="src/UserBundle/Resources/skeleton" />
            <file name="src/UserBundle/Maker/UserMaker.php" />
        </ignoreFiles>
    </projectFiles>

    <issueHandlers>
        <!-- info = conventional, suppress = false positive -->
        <InternalMethod errorLevel="info" />
        <InvalidClass>
            <errorLevel type="suppress">
                <referencedClass name="MsgPhp\Domain\Tests\Factory\wrongcase" />
            </errorLevel>
        </InvalidClass>
        <InvalidReturnType errorLevel="info" />
        <InvalidReturnStatement errorLevel="info" />
        <MissingReturnType errorLevel="info" />
        <MoreSpecificReturnType>
            <errorLevel type="info">
                <file name="src/*/Infra/Doctrine/Repository/*Repository.php" />
            </errorLevel>
        </MoreSpecificReturnType>
        <LessSpecificReturnStatement>
            <errorLevel type="info">
                <file name="src/*/Infra/Doctrine/Repository/*Repository.php" />
            </errorLevel>
        </LessSpecificReturnStatement>
        <MissingClosureParamType errorLevel="info" />
        <MissingClosureReturnType errorLevel="info" />
        <MissingParamType errorLevel="info" />
        <MissingPropertyType errorLevel="info" />
        <PossiblyUndefinedMethod>
            <errorLevel type="suppress">
                <referencedMethod name="Symfony\Component\Config\Definition\Builder\NodeBuilder::classMappingNode" />
            </errorLevel>
        </PossiblyUndefinedMethod>
        <PropertyNotSetInConstructor errorLevel="suppress" />
        <UndefinedClass>
            <errorLevel type="suppress">
                <referencedClass name="MsgPhp\Domain\Tests\Factory\UnknownTestObject" />
            </errorLevel>
        </UndefinedClass>
        <UndefinedFunction>
            <errorLevel type="suppress">
                <file name="src/*Bundle/Resources/config/*.php" />
            </errorLevel>
        </UndefinedFunction>
    </issueHandlers>

    <mockClasses>
        <class name="PHPUnit\Framework\MockObject\MockObject"/>
    </mockClasses>
</psalm>
